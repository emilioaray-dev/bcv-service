# ===================================
# BCV Service - Environment Variables
# ===================================

# -----------------------------------
# Docker Configuration
# -----------------------------------
# Docker image to use (if not building locally)
# DOCKER_IMAGE=ghcr.io/emilioaray-dev/bcv-service:main

# Container names
BCV_CONTAINER_NAME=bcv-service
REDIS_CONTAINER_NAME=bcv-redis

# Restart policy for containers
RESTART_POLICY=unless-stopped

# -----------------------------------
# Application Configuration
# -----------------------------------
# Node environment (development, production, test)
NODE_ENV=production

# Application port
PORT=3000

# Host port to map (external port)
BCV_HOST_PORT=3000

# BCV website URL for scraping
BCV_WEBSITE_URL=https://www.bcv.org.ve/

# Cron schedule for rate updates (default: every hour)
# Format: minute hour day month weekday
# Examples:
#   - "0 * * * *"     = Every hour
#   - "*/30 * * * *"  = Every 30 minutes
#   - "0 */2 * * *"   = Every 2 hours
CRON_SCHEDULE=0 * * * *

# Save rates to database
SAVE_TO_DATABASE=true

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# -----------------------------------
# Health Check Configuration
# -----------------------------------
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=40s

# -----------------------------------
# MongoDB Configuration
# -----------------------------------
# MongoDB Atlas connection string (recommended for production)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/bcvdb?retryWrites=true&w=majority

# Or MongoDB local connection string (for development)
# MONGODB_URI=mongodb://bcv_user:password@localhost:27017/bcvdb?authSource=bcvdb

# -----------------------------------
# Redis Configuration
# -----------------------------------
# Redis Docker image
REDIS_IMAGE=redis:7-alpine

# Redis host (use 'redis' for docker-compose, 'localhost' for local development)
REDIS_HOST=redis

# Redis port
REDIS_PORT=6379

# Redis host port to map (external port)
REDIS_HOST_PORT=6379

# Redis password (leave empty for no password)
REDIS_PASSWORD=

# Redis database number
REDIS_DB=0

# Redis connection settings
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000
REDIS_CONNECT_TIMEOUT=10000

# Redis health check settings
REDIS_HEALTHCHECK_INTERVAL=10s
REDIS_HEALTHCHECK_TIMEOUT=3s
REDIS_HEALTHCHECK_RETRIES=3
REDIS_HEALTHCHECK_START_PERIOD=10s

# -----------------------------------
# Cache Configuration
# -----------------------------------
# Enable/disable cache
CACHE_ENABLED=true

# Cache TTL for latest rate (in seconds) - Default: 5 minutes
CACHE_TTL_LATEST=300

# Cache TTL for history (in seconds) - Default: 24 hours
CACHE_TTL_HISTORY=86400

# -----------------------------------
# Optional: Docker Secrets (for production)
# -----------------------------------
# Uncomment to use Docker Secrets instead of environment variables
# MONGODB_URI_FILE=/run/secrets/mongodb_uri
# API_KEYS_FILE=/run/secrets/api_keys
# REDIS_PASSWORD_FILE=/run/secrets/redis_password

# -----------------------------------
# Optional: API Keys
# -----------------------------------
# Comma-separated list of API keys for authentication
# API_KEYS=key1,key2,key3

# -----------------------------------
# Optional: Webhook Configuration
# -----------------------------------
# WEBHOOK_URL=https://your-webhook-url.com/webhook
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook-id

# URLs espec√≠ficas para diferentes tipos de notificaciones (opcional, puede usar la misma que WEBHOOK_URL)
# SERVICE_STATUS_WEBHOOK_URL=https://your-webhook-url.com/service-status
# DEPLOYMENT_WEBHOOK_URL=https://your-webhook-url.com/deployment

# -----------------------------------
# Optional: CORS Configuration
# -----------------------------------
# Comma-separated list of allowed origins for CORS
# CORS_ORIGIN=http://localhost:3000,http://localhost:3001,https://yourdomain.com

# -----------------------------------
# Optional: Swagger/OpenAPI Configuration
# -----------------------------------
# Production server URL for Swagger documentation
# SWAGGER_PROD_URL=https://bcv-api.yourdomain.com
