# Configuración del Servidor
PORT=3000
NODE_ENV=development

# Nivel de Logging
# Opciones: error | warn | info | http | debug
# Producción: info o warn | Desarrollo: debug
LOG_LEVEL=info

# Guardar logs en archivos durante desarrollo (opcional)
# true: Guarda logs en archivos logs/ incluso en desarrollo
# false o no definido: Solo muestra logs en consola en desarrollo
# DEV_FILE_LOGS=true

# Base de Datos MongoDB
# Formato: mongodb://username:password@host:port/database?authSource=database
MONGODB_URI=mongodb://user:password@localhost:27017/bcvdb?authSource=bcvdb

# Modo de Operación
# true: Guarda en MongoDB | false: Solo imprime en consola
SAVE_TO_DATABASE=false

# Configuración del Scraper
BCV_WEBSITE_URL=https://www.bcv.org.ve/

# Programación de Tareas (Cron)
# Formato: segundo minuto hora día mes día-semana
# Ejemplo: "0 2,10,18 * * *" = ejecuta a las 2am, 10am y 6pm
CRON_SCHEDULE=0 2,10,18 * * *

# Redis Cache Configuration
# Enable/disable Redis caching (true/false)
# When disabled, the service uses MongoDB directly (slower but simpler)
CACHE_ENABLED=true

# Redis Connection
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Redis Password (opcional)
# REDIS_PASSWORD=your-secure-redis-password
#
# Alternativamente, puedes usar Docker Secrets:
# REDIS_PASSWORD_FILE=/run/secrets/redis_password

# Redis Connection Pool Configuration
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000
REDIS_CONNECT_TIMEOUT=10000

# Cache TTL (Time To Live) in seconds
# Latest rate cache: 5 minutes (300 seconds)
CACHE_TTL_LATEST=300
# Historical rates cache: 24 hours (86400 seconds)
CACHE_TTL_HISTORY=86400

# Seguridad - API Keys
# Múltiples API keys separadas por coma para autenticación de clientes
# Si no se configura ninguna API key, el servicio funcionará SIN autenticación (modo desarrollo)
# En producción, SIEMPRE configura al menos una API key
# API_KEYS=key1-secure-random-string,key2-another-secure-key,key3-third-key
#
# Alternativamente, puedes usar Docker Secrets (recomendado para producción):
# API_KEYS_FILE=/run/secrets/api_keys

# Discord Integration
# URL del webhook para enviar notificaciones de cambios de tasa
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_URL
#
# Alternativamente, puedes usar Docker Secrets:
# DISCORD_WEBHOOK_URL_FILE=/run/secrets/discord_webhook_url

# HTTP Webhook Integration
# URL del endpoint HTTP para enviar notificaciones de cambios de tasa
# WEBHOOK_URL=https://your-app.com/api/webhook/bcv-rates
#
# Secret para firma HMAC-SHA256 de los payloads (recomendado para seguridad)
# WEBHOOK_SECRET=your-super-secret-key-here
#
# Timeout para requests de webhook en milisegundos (default: 5000)
# WEBHOOK_TIMEOUT=5000
#
# Número máximo de reintentos para entregas fallidas (default: 3)
# WEBHOOK_MAX_RETRIES=3
#
# Alternativamente, puedes usar Docker Secrets:
# WEBHOOK_URL_FILE=/run/secrets/webhook_url
# WEBHOOK_SECRET_FILE=/run/secrets/webhook_secret
